# =============================================================================
# KITTY CONFIGURATION OPTIMISÉE POUR ARCHLINUX
# =============================================================================

# Fonts
font_family      family='JetBrains Mono Nerd Font' postscript_name=JetBrainsMono-Regular
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size 12.0

# Améliorations visuelles pour les ligatures (optionnel)
disable_ligatures cursor

# =============================================================================
# CURSEUR - Améliorations
# =============================================================================
cursor_trail 200
cursor_trail_decay 0.05 0.4
cursor_trail_start_threshold 1
cursor_shape beam
cursor_beam_thickness 1.5
cursor_blink_interval 0.8

# =============================================================================
# TRANSPARENCE ET EFFETS VISUELS
# =============================================================================
background_opacity 0.75
dynamic_background_opacity yes

# =============================================================================
# FENÊTRES - Style moderne
# =============================================================================
window_border_width 0
window_margin_width 4
single_window_margin_width 4
window_padding_width 4
hide_window_decorations yes
remember_window_size yes

# Coins arrondis simulés avec padding
placement_strategy center

# =============================================================================
# TAB BAR - Style powerline amélioré
# =============================================================================
tab_bar_style powerline
tab_powerline_style round
tab_bar_edge top
tab_bar_align left
tab_bar_margin_width 0
tab_bar_margin_height 2 2
# tab_bar_min_tabs 1

# Template de titre plus informatif
tab_title_template "{index}:{title[:15]}{bell_symbol}{activity_symbol}"
active_tab_title_template "{index}:{title[:15]}"

tab_title_max_length 30
tab_activity_symbol ""
tab_bell_symbol ""

# =============================================================================
# COULEURS - Ajustements pour Flexoki
# =============================================================================
# Garde ton thème Flexoki mais avec des ajustements
include current-theme.conf

# Couleurs personnalisées pour les tabs
# active_tab_foreground   #1c1b1a
# active_tab_background   #d14d41
active_tab_font_style   bold
# inactive_tab_foreground #6f6e69
# inactive_tab_background #2d2c2a
inactive_tab_font_style normal

# =============================================================================
# PERFORMANCE ET RÉACTIVITÉ
# =============================================================================
repaint_delay 8
input_delay 2
sync_to_monitor yes

# =============================================================================
# SHELL ET INTÉGRATION
# =============================================================================
shell /usr/bin/fish
shell_integration enabled
allow_remote_control socket-only
listen_on unix:/tmp/kitty

# =============================================================================
# RACCOURCIS PERSONNALISÉS - Plus pratiques
# =============================================================================
# kitty_mod ctrl+shift
#
# # Transparence à la volée
# map ctrl+shift+equal set_background_opacity +0.05
# map ctrl+shift+minus set_background_opacity -0.05
# map ctrl+shift+0 set_background_opacity 1
# map ctrl+shift+9 set_background_opacity 0.85
#
# # Navigation améliorée
# map ctrl+shift+enter new_window_with_cwd
# map ctrl+shift+t new_tab_with_cwd
# map alt+left previous_tab
# map alt+right next_tab
#
# # Hints améliorés pour les URLs et fichiers
# map ctrl+shift+e open_url_with_hints
# map ctrl+shift+p>f kitten hints --type path --program @
# map ctrl+shift+p>u kitten hints --type url --program @
#
# # Split-like avec des raccourcis vim
# map ctrl+h launch --location=hsplit --cwd=current
# map ctrl+v launch --location=vsplit --cwd=current
#
# # Zoom de fenêtre
# map ctrl+shift+z toggle_layout stack

# =============================================================================
# TERMINAL BELL - Notifications modernes
# =============================================================================
enable_audio_bell no
visual_bell_duration 0.1
# visual_bell_color #d14d41
window_alert_on_bell no

# =============================================================================
# MOUSE - Interactions fluides
# =============================================================================
mouse_hide_wait 2.0
url_style curly
detect_urls yes
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
copy_on_select clipboard
strip_trailing_spaces smart

# =============================================================================
# LAYOUTS MULTIPLES
# =============================================================================
# enabled_layouts tall:bias=50;full_size=1, fat:bias=50;full_size=1, stack, horizontal

# =============================================================================
# NOTIFICATIONS INTELLIGENTES
# =============================================================================
notify_on_cmd_finish invisible 5.0

# =============================================================================
# SCROLLBACK OPTIMISÉ
# =============================================================================
scrollback_lines 10000
scrollback_pager_history_size 100
wheel_scroll_multiplier 3.0
